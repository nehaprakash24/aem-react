{"version":3,"sources":["webpack://cqReactEditableComponents/webpack/universalModuleDefinition","webpack://cqReactEditableComponents/webpack/bootstrap","webpack://cqReactEditableComponents/external \"react\"","webpack://cqReactEditableComponents/external \"prop-types\"","webpack://cqReactEditableComponents/external \"@adobe/aem-spa-page-model-manager\"","webpack://cqReactEditableComponents/external \"@adobe/aem-spa-component-mapping\"","webpack://cqReactEditableComponents/./node_modules/react-fast-compare/index.js","webpack://cqReactEditableComponents/./node_modules/path-browserify/index.js","webpack://cqReactEditableComponents/./node_modules/process/browser.js","webpack://cqReactEditableComponents/./src/Constants.ts","webpack://cqReactEditableComponents/./src/components/EditableComponent.tsx","webpack://cqReactEditableComponents/./src/Utils.ts","webpack://cqReactEditableComponents/./src/components/ModelProvider.tsx","webpack://cqReactEditableComponents/./src/EditorContext.tsx","webpack://cqReactEditableComponents/./src/ComponentMapping.tsx","webpack://cqReactEditableComponents/./src/components/ContainerPlaceholder.tsx","webpack://cqReactEditableComponents/./src/components/Container.tsx","webpack://cqReactEditableComponents/./src/components/allowedcomponents/AllowedComponentsPlaceholder.tsx","webpack://cqReactEditableComponents/./src/components/allowedcomponents/AllowedComponentsPlaceholderList.tsx","webpack://cqReactEditableComponents/./src/components/allowedcomponents/AllowedComponentsContainer.tsx","webpack://cqReactEditableComponents/./src/components/Page.tsx","webpack://cqReactEditableComponents/./src/components/ResponsiveGrid.tsx"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","isArray","Array","keyList","keys","hasProp","hasElementType","Element","a","b","equal","length","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","toString","$$typeof","error","message","match","number","console","warn","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","filter","xs","f","res","push","resolve","resolvedPath","resolvedAbsolute","arguments","path","process","cwd","TypeError","charAt","split","join","normalize","isAbsolute","trailingSlash","substr","paths","slice","index","relative","from","to","trim","arr","start","end","fromParts","toParts","Math","min","samePartsLength","outputParts","concat","sep","delimiter","dirname","code","charCodeAt","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","str","len","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","args","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","dir","umask","Constants","DATA_PATH_ATTR","NEW_SECTION_CLASS_NAMES","TYPE_PROP","ITEMS_PROP","ITEMS_ORDER_PROP","PATH_PROP","CHILDREN_PROP","HIERARCHY_TYPE_PROP","PLACEHOLDER_CLASS_NAME","props","super","state","propsToState","wrappedComponent","containerProps","editConfig","prevProps","setState","eProps","componentProperties","isInEditor","cqPath","useEmptyPlaceholder","emptyLabel","isEmpty","WrappedComponent","createElement","assign","editProps","emptyPlaceholderProps","withEditable","editConfigToUse","computedProps","WCMMode","getWCMMode","window","isBrowser","wcmModeMeta","document","head","querySelector","content","DISABLED","wcmMode","EDIT","PREVIEW","item","getOwnPropertyNames","forEach","propKey","startsWith","tempKey","toUpperCase","getCQPath","updateData","cqForceReload","injectPropsOnInit","getData","forceReload","then","data","modelToProps","pagePath","itemPath","withModel","modelConfig","modelConfigToUse","EditorContext","createContext","withEditorContext","Component","Consumer","wrappedMapFct","map","wrappedGetFct","resourceTypes","component","config","configToUse","innerComponent","MapTo","clazz","ComponentMappingContext","withComponentMappingContext","componentMapping","string","placeholderClassNames","className","PLACEHOLDER_CLASS_NAMES","childComponents","cqItems","cqItemsOrder","itemKey","itemProps","ItemComponent","cqType","connectComponentWithItem","ChildComponent","getItemPath","getItemComponentProps","attrs","placeholderProps","placeholderComponent","defaultProps","components","arrayOf","shape","listLabel","ALLOWED_PLACEHOLDER_CLASS_NAMES","allowedComponents","_allowedComponentPlaceholderListEmptyLabel","applicable","render","pages","cqChildren","childPages","gridClassNames","columnClassNames"],"mappings":"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","file":"aem-react-editable-components.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cqReactEditableComponents\"] = factory();\n\telse\n\t\troot[\"cqReactEditableComponents\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = require(\"react\");","module.exports = require(\"prop-types\");","module.exports = require(\"@adobe/aem-spa-page-model-manager\");","module.exports = require(\"@adobe/aem-spa-component-mapping\");","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\nvar hasElementType = typeof Element !== 'undefined';\n\nfunction equal(a, b) {\n  // fast-deep-equal index.js 2.0.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n    // end fast-deep-equal\n\n    // start react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element && b instanceof Element)\n      return a === b;\n\n    // custom handling for React\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue;\n      } else {\n        // all other properties should be traversed as usual\n        if (!equal(a[key], b[key])) return false;\n      }\n    }\n    // end react-fast-compare\n\n    // fast-deep-equal index.js 2.0.1\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function exportedEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message && error.message.match(/stack|recursion/i)) || (error.number === -2146828260)) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('Warning: react-fast-compare does not handle circular references.', error.name, error.message);\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport { Constants as PMConstants } from '@adobe/aem-spa-page-model-manager';\n/**\n * Useful variables for interacting with CQ/AEM components.\n *\n * @namespace Constants\n */\nclass Constants {\n    constructor() {\n        // hide constructor\n    }\n}\n/**\n * Name of the data-cq-data-path data attribute.\n */\nConstants.DATA_PATH_ATTR = 'data-cq-data-path';\n/**\n * Class names associated with a new section component.\n */\nConstants.NEW_SECTION_CLASS_NAMES = 'new section';\n/**\n * Type of the item.\n */\nConstants.TYPE_PROP = PMConstants.TYPE_PROP;\n/**\n * List of child items of an item.\n */\nConstants.ITEMS_PROP = PMConstants.ITEMS_PROP;\n/**\n * Order in which the items should be listed.\n */\nConstants.ITEMS_ORDER_PROP = PMConstants.ITEMS_ORDER_PROP;\n/**\n * Path of the item.\n */\nConstants.PATH_PROP = PMConstants.PATH_PROP;\n/**\n * Children of an item.\n */\nConstants.CHILDREN_PROP = PMConstants.CHILDREN_PROP;\n/**\n * Hierarchical type of the item.\n */\nConstants.HIERARCHY_TYPE_PROP = PMConstants.HIERARCHY_TYPE_PROP;\nexport default Constants;\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport isEqual from 'react-fast-compare';\nimport Constants from '../Constants';\n/**\n * Class name used to identify the placeholder used to represent an empty component.\n *\n * @private\n */\nconst PLACEHOLDER_CLASS_NAME = 'cq-placeholder';\n/**\n * The EditableComponent extends components with editing capabilities.\n */\nclass EditableComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = this.propsToState(props);\n    }\n    propsToState(props) {\n        // Keep private properties from being passed as state\n        const { wrappedComponent, containerProps, editConfig, ...state } = props;\n        return state;\n    }\n    componentDidUpdate(prevProps) {\n        if (!isEqual(prevProps, this.props)) {\n            this.setState(this.propsToState(this.props));\n        }\n    }\n    /**\n     * Properties related to the edition of the component.\n     */\n    get editProps() {\n        const eProps = {};\n        if (!this.props.componentProperties.isInEditor) {\n            return eProps;\n        }\n        eProps[Constants.DATA_PATH_ATTR] = this.props.componentProperties.cqPath;\n        return eProps;\n    }\n    /**\n     * HTMLElement representing the empty placeholder.\n     *\n     * @return {object}\n     */\n    get emptyPlaceholderProps() {\n        if (!this.useEmptyPlaceholder()) {\n            return null;\n        }\n        return {\n            'className': PLACEHOLDER_CLASS_NAME,\n            'data-emptytext': this.props.editConfig.emptyLabel\n        };\n    }\n    /**\n     * Should an empty placeholder be added.\n     *\n     * @return {boolean}\n     */\n    useEmptyPlaceholder() {\n        return this.props.componentProperties.isInEditor\n            && (typeof this.props.editConfig.isEmpty === 'function')\n            && this.props.editConfig.isEmpty(this.props.componentProperties);\n    }\n    render() {\n        const WrappedComponent = this.props.wrappedComponent;\n        return (React.createElement(\"div\", Object.assign({}, this.editProps, this.props.containerProps),\n            React.createElement(WrappedComponent, Object.assign({}, this.state)),\n            React.createElement(\"div\", Object.assign({}, this.emptyPlaceholderProps))));\n    }\n}\n/**\n * Returns a composition that provides edition capabilities to the component.\n *\n * @param {React.Component} WrappedComponent\n * @param {EditConfig} [editConfig]\n */\nexport function withEditable(WrappedComponent, editConfig) {\n    /**\n     * If not edit configuration is specified, provide a dummy that always returns false on isEmpty.\n     */\n    const editConfigToUse = editConfig ? editConfig : {\n        isEmpty(props) {\n            return false;\n        }\n    };\n    /**\n     * Wrapping Editable Component\n     */\n    return class CompositeEditableComponent extends Component {\n        render() {\n            const computedProps = {\n                ...this.props,\n                componentProperties: this.props,\n                editConfig: editConfigToUse,\n                wrappedComponent: WrappedComponent\n            };\n            return React.createElement(EditableComponent, Object.assign({}, computedProps));\n        }\n    };\n}\nexport { PLACEHOLDER_CLASS_NAME };\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nclass NotImplementedError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'NotImplementedError';\n    }\n}\nexport { NotImplementedError };\n/**\n * Selector that identifies the node that contains the WCM mode state\n *\n * @type {string}\n * @private\n */\nconst WCM_MODE_META_SELECTOR = 'meta[property=\"cq:wcmmode\"]';\nexport var WCMMode;\n(function (WCMMode) {\n    /**\n     * The editor is in one of the edition modes.\n     */\n    WCMMode[\"EDIT\"] = \"edit\";\n    /**\n     * The editor is in preview mode.\n     */\n    WCMMode[\"PREVIEW\"] = \"preview\";\n    /**\n     * The editor mode is disabled.\n     */\n    WCMMode[\"DISABLED\"] = \"disabled\";\n})(WCMMode || (WCMMode = {}));\n/**\n * Returns if we are in the browser context or not by checking for the\n * existance of the window object.\n *\n * @returns {Boolean} the result of the check of the existance of the window object\n */\nfunction isBrowser() {\n    try {\n        return typeof window !== 'undefined';\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * Returns the current WCM mode.\n *\n * <p>Note that the value isn't, as of the date of this writing, updated by the editor</p>\n *\n * @returns {string|undefined}\n * @private\n */\nfunction getWCMMode() {\n    if (isBrowser()) {\n        const wcmModeMeta = document.head.querySelector(WCM_MODE_META_SELECTOR);\n        // @ts-ignore\n        if (wcmModeMeta && wcmModeMeta.content) {\n            // @ts-ignore\n            const content = wcmModeMeta.content;\n            return content;\n        }\n        return WCMMode.DISABLED;\n    }\n    return false;\n}\n/**\n * Helper functions for interacting with the AEM environment.\n */\nconst Utils = {\n    /**\n     * Is the app used in the context of the AEM Page editor.\n     *\n     * @returns {boolean}\n     */\n    isInEditor() {\n        const wcmMode = getWCMMode();\n        return wcmMode && ((WCMMode.EDIT === wcmMode) || (WCMMode.PREVIEW === wcmMode));\n    },\n    /**\n     * Transforms the item data to component properties.\n     * It will replace ':' with 'cq' and convert the name to CameCase.\n     *\n     * @private\n     * @param {Object} item - the item data\n     * @returns {Object} the transformed data\n     */\n    modelToProps(item) {\n        const keys = Object.getOwnPropertyNames(item);\n        const props = {};\n        keys.forEach((key) => {\n            let propKey = key;\n            if (propKey.startsWith(':')) {\n                // Transformation of internal properties namespaced with [:] to [cq]\n                // :myProperty => cqMyProperty\n                const tempKey = propKey.substr(1);\n                propKey = 'cq' + tempKey.substr(0, 1).toUpperCase() + tempKey.substr(1);\n            }\n            // @ts-ignore\n            props[propKey] = item[key];\n        });\n        return props;\n    }\n};\nexport default Utils;\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport { normalize as normalizePath } from 'path';\nimport { ModelManager } from '@adobe/aem-spa-page-model-manager';\nimport React, { Component } from 'react';\nimport isEqual from 'react-fast-compare';\nimport Utils from '../Utils';\n/**\n * Wraps a portion of the page model into a Component.\n * Fetches content from AEM (using ModelManager) and inject it into the passed React Component.\n */\nexport class ModelProvider extends Component {\n    constructor(props) {\n        super(props);\n        this.getCQPath = this.getCQPath.bind(this);\n        this.updateData = this.updateData.bind(this);\n        this.state = this.propsToState(props);\n    }\n    propsToState(props) {\n        // Keep private properties from being passed as state\n        const { wrappedComponent, cqForceReload, injectPropsOnInit, ...state } = props;\n        return state;\n    }\n    componentDidUpdate(prevProps) {\n        if (!isEqual(prevProps, this.props)) {\n            this.setState(this.propsToState(this.props));\n        }\n    }\n    updateData(cqPath) {\n        const path = cqPath || this.props.cqPath;\n        ModelManager.getData({ path, forceReload: this.props.cqForceReload }).then((data) => {\n            this.setState(Utils.modelToProps(data));\n        });\n    }\n    getCQPath() {\n        const { pagePath = '', itemPath = '', injectPropsOnInit } = this.props;\n        let { cqPath } = this.props;\n        if (injectPropsOnInit && !cqPath) {\n            cqPath = (itemPath ?\n                `${pagePath}/jcr:content/${itemPath}` :\n                pagePath);\n            // Normalize path (replace multiple consecutive slashes with a single one).\n            cqPath = normalizePath(cqPath);\n            this.setState({ cqPath });\n        }\n        return cqPath;\n    }\n    componentDidMount() {\n        const cqPath = this.getCQPath();\n        if (this.props.injectPropsOnInit) {\n            this.updateData(cqPath);\n        }\n        ModelManager.addListener(cqPath, this.updateData);\n    }\n    componentWillUnmount() {\n        // Clean up listener\n        ModelManager.removeListener(this.props.cqPath, this.updateData);\n    }\n    render() {\n        const WrappedComponent = this.props.wrappedComponent;\n        return React.createElement(WrappedComponent, Object.assign({}, this.state));\n    }\n}\n/**\n * @param WrappedComponent\n * @param {ReloadableModelProperties} [modelConfig]\n */\nexport const withModel = (WrappedComponent, modelConfig) => {\n    /**\n     * @type CompositeModelProvider\n     */\n    return class CompositeModelProviderImpl extends Component {\n        render() {\n            const modelConfigToUse = modelConfig || {};\n            // The reload can be forced either via the withModel function property or locally via the tag's property\n            const forceReload = this.props.cqForceReload || modelConfigToUse.forceReload || false;\n            const injectPropsOnInit = modelConfigToUse.injectPropsOnInit || false;\n            return (React.createElement(ModelProvider, Object.assign({}, this.props, { cqForceReload: forceReload, injectPropsOnInit: injectPropsOnInit, wrappedComponent: WrappedComponent })));\n        }\n    };\n};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport React from 'react';\nimport Utils from './Utils';\nconst EditorContext = React.createContext(Utils.isInEditor());\nconst withEditorContext = (Component) => {\n    const context = (props) => {\n        return (React.createElement(EditorContext.Consumer, null, (isInEditor) => React.createElement(Component, Object.assign({}, props, { isInEditor: isInEditor }))));\n    };\n    return context;\n};\nexport { EditorContext, withEditorContext };\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport React from 'react';\nimport { ComponentMapping } from '@adobe/aem-spa-component-mapping';\nimport { withEditable } from './components/EditableComponent';\nimport { withModel } from './components/ModelProvider';\nimport { withEditorContext } from './EditorContext';\n/**\n * Wrapped function\n *\n * @type {function}\n * @private\n */\nconst wrappedMapFct = ComponentMapping.map;\nconst wrappedGetFct = ComponentMapping.get;\n/**\n * Map a React component with the given resource types.\n * If an {@link EditConfig} is provided the <i>clazz</i> is wrapped to provide edition capabilities on the AEM Page Editor\n *\n * @param {string[]} resourceTypes - list of resource types for which to use the given <i>clazz</i>\n * @param {React.Component} component - class to be instantiated for the given resource types\n * @param {EditConfig} [editConfig] - configuration object for enabling the edition capabilities\n * @param {{}} [config] - general configuration object\n * @param {boolean} [config.forceReload=undefined] - should the model cache be ignored when processing the component\n * @returns {React.Component} - the resulting decorated Class\n */\nComponentMapping.map =\n    function map(resourceTypes, component, editConfig, config) {\n        const configToUse = config ? config : { forceReload: false };\n        let innerComponent = component;\n        innerComponent = withEditorContext(withModel(withEditable(innerComponent, editConfig), configToUse));\n        wrappedMapFct.call(ComponentMapping, resourceTypes, innerComponent);\n        return innerComponent;\n    };\nComponentMapping.get = wrappedGetFct;\nconst MapTo = (resourceTypes) => {\n    return (clazz, config) => {\n        // @ts-ignore\n        return ComponentMapping.map(resourceTypes, clazz, config);\n    };\n};\nconst ComponentMappingContext = React.createContext(ComponentMapping);\nfunction withComponentMappingContext(Component) {\n    return function ComponentMappingContextComponent(props) {\n        return (React.createElement(ComponentMappingContext.Consumer, null, (componentMapping) => React.createElement(Component, Object.assign({}, props, { componentMapping: componentMapping }))));\n    };\n}\nexport { ComponentMapping, MapTo, ComponentMappingContext, withComponentMappingContext };\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n/**\n * Placeholder of the Container component.\n *\n * @class\n * @extends React.Component\n * @private\n */\nexport class ContainerPlaceholder extends Component {\n    static get propTypes() {\n        return {\n            cqPath: PropTypes.string,\n            placeholderClassNames: PropTypes.string,\n        };\n    }\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        return React.createElement(\"div\", { \"data-cq-data-path\": this.props.cqPath + '/*', className: this.props.placeholderClassNames });\n    }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport { ComponentMapping } from '../ComponentMapping';\nimport Constants from '../Constants';\nimport Utils from '../Utils';\nimport { ContainerPlaceholder } from './ContainerPlaceholder';\nconst CONTAINER_CLASS_NAMES = 'aem-container';\nconst PLACEHOLDER_CLASS_NAMES = Constants.NEW_SECTION_CLASS_NAMES;\n/**\n * Container component. Provides access to items.\n */\nexport class Container extends Component {\n    constructor(props) {\n        super(props);\n        // @ts-ignore\n        this.state = {\n            componentMapping: this.props.componentMapping || ComponentMapping\n        };\n    }\n    /**\n     * Returns the child components of this Container.\n     * It will iterate over all the items and instantiate the child components if a Mapping is found.\n     * Instantiation is done my connecting the Component with the data of that item.\n     *\n     * @returns {Object[]} An array with the components instantiated to JSX\n     */\n    get childComponents() {\n        const childComponents = [];\n        if (!this.props.cqItems || !this.props.cqItemsOrder) {\n            return childComponents;\n        }\n        this.props.cqItemsOrder.map((itemKey) => {\n            const itemProps = Utils.modelToProps(this.props.cqItems[itemKey]);\n            if (itemProps) {\n                // @ts-ignore\n                const ItemComponent = this.state.componentMapping.get(itemProps.cqType);\n                if (ItemComponent) {\n                    childComponents.push(this.connectComponentWithItem(ItemComponent, itemProps, itemKey));\n                }\n            }\n        });\n        return childComponents;\n    }\n    /**\n     * Connects a child component with the item data.\n     *\n     * @param {Component} ChildComponent - the child component\n     * @param {Object} itemProps - the item data\n     * @param {String} itemKey - the name of the item in map\n     * @returns {Object} - the React element constructed by connecting the values of the input with the Component\n     */\n    connectComponentWithItem(ChildComponent, itemProps, itemKey) {\n        const itemPath = this.getItemPath(itemKey);\n        return React.createElement(ChildComponent, Object.assign({}, itemProps, { key: itemPath, cqPath: itemPath, isInEditor: this.props.isInEditor, containerProps: this.getItemComponentProps(itemProps, itemKey, itemPath) }));\n    }\n    /**\n     * Returns the properties to add on a specific child component.\n     *\n     * @param {Object} item - The item data\n     * @param {String} itemKey - The key of the item\n     * @param {String} itemPath - The path of the item\n     * @returns {Object} - The map of properties to be added\n     */\n    getItemComponentProps(itemProps, itemKey, itemPath) {\n        return {};\n    }\n    /**\n     * Computes the path of the current item.\n     *\n     * @param {String} itemKey - the key of the item\n     * @returns {String} - the computed path\n     */\n    getItemPath(itemKey) {\n        return (this.props && this.props.cqPath) ? (this.props.cqPath + '/' + itemKey) : itemKey;\n    }\n    /**\n     * The properties that will be injected in the root element of the container.\n     *\n     * @returns {Object} - The map of properties to be added\n     */\n    get containerProps() {\n        const attrs = {\n            className: CONTAINER_CLASS_NAMES,\n        };\n        if (this.props.isInEditor) {\n            attrs[Constants.DATA_PATH_ATTR] = this.props.cqPath;\n        }\n        return attrs;\n    }\n    /**\n     * The properties that will go on the placeholder component root element.\n     *\n     * @returns {Object} - The map of properties to be added\n     */\n    get placeholderProps() {\n        return {\n            cqPath: this.props.cqPath,\n            placeholderClassNames: PLACEHOLDER_CLASS_NAMES,\n        };\n    }\n    /**\n     * The placeholder component that will be added in editing\n     *\n     * @returns {Object} React element to be instantiated as a placeholder\n     */\n    get placeholderComponent() {\n        if (!this.props.isInEditor) {\n            return null;\n        }\n        return React.createElement(ContainerPlaceholder, Object.assign({}, this.placeholderProps));\n    }\n    render() {\n        return (React.createElement(\"div\", Object.assign({}, this.containerProps),\n            this.childComponents,\n            this.placeholderComponent));\n    }\n}\nContainer.defaultProps = {\n    cqItems: {},\n    cqItemsOrder: [],\n    cqPath: ''\n};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nconst ALLOWED_COMPONENT_PLACEHOLDER_CLASS_NAMES = 'aem-AllowedComponent--component cq-placeholder placeholder';\n/**\n * Placeholder for one Allowed Component.\n */\nexport class AllowedComponentPlaceholder extends Component {\n    static get propTypes() {\n        return {\n            emptyLabel: PropTypes.string,\n            path: PropTypes.string\n        };\n    }\n    render() {\n        const { path, emptyLabel } = this.props;\n        return React.createElement(\"div\", { \"data-cq-data-path\": path, \"data-emptytext\": emptyLabel, className: ALLOWED_COMPONENT_PLACEHOLDER_CLASS_NAMES });\n    }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { AllowedComponentPlaceholder } from './AllowedComponentsPlaceholder';\nconst ALLOWED_PLACEHOLDER_CLASS_NAMES = 'aem-AllowedComponent--list';\nconst ALLOWED_COMPONENT_TITLE_CLASS_NAMES = 'aem-AllowedComponent--title';\n/**\n * List of placeholder of the Allowed Component Container component.\n *\n * @class\n * @extends React.Component\n * @private\n */\nexport class AllowedComponentPlaceholderList extends Component {\n    static get propTypes() {\n        return {\n            components: PropTypes.arrayOf(PropTypes.shape({\n                path: PropTypes.string,\n                title: PropTypes.string\n            })),\n            cqPath: PropTypes.string,\n            emptyLabel: PropTypes.string,\n            placeholderClassNames: PropTypes.string,\n            title: PropTypes.string\n        };\n    }\n    render() {\n        const { components, placeholderProps, title, emptyLabel } = this.props;\n        const listLabel = (components && (components.length > 0)) ? title : emptyLabel;\n        return (React.createElement(\"div\", { className: ALLOWED_PLACEHOLDER_CLASS_NAMES + ' ' + placeholderProps.placeholderClassNames },\n            React.createElement(\"div\", { \"data-text\": listLabel, className: ALLOWED_COMPONENT_TITLE_CLASS_NAMES }),\n            components.map((component, i) => React.createElement(AllowedComponentPlaceholder, { key: i, path: component.path, emptyLabel: component.title }))));\n    }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport React from 'react';\nimport { Container } from '../Container';\nimport { AllowedComponentPlaceholderList } from './AllowedComponentsPlaceholderList';\n/**\n *  When applicable, the component exposes a list of allowed components\n *  This is used by the template editor\n */\nexport class AllowedComponentsContainer extends Container {\n    render() {\n        const { allowedComponents, _allowedComponentPlaceholderListEmptyLabel, title, isInEditor } = this.props;\n        if (isInEditor && allowedComponents && allowedComponents.applicable) {\n            // @ts-ignore\n            const emptyLabel = _allowedComponentPlaceholderListEmptyLabel ? _allowedComponentPlaceholderListEmptyLabel : AllowedComponentsContainer.defaultProps._allowedComponentPlaceholderListEmptyLabel;\n            if (_allowedComponentPlaceholderListEmptyLabel) {\n                // @ts-ignore\n                return React.createElement(AllowedComponentPlaceholderList, { title: title, emptyLabel: emptyLabel, components: allowedComponents.components, placeholderProps: this.placeholderProps, cqPath: this.props.cqPath });\n            }\n        }\n        return super.render();\n    }\n}\nAllowedComponentsContainer.defaultProps = {\n    // Temporary property until CQ-4265892 is addressed, beware not rely it\n    _allowedComponentPlaceholderListEmptyLabel: 'No allowed components',\n    cqItems: {},\n    cqItemsOrder: [],\n    cqPath: ''\n};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport React from 'react';\nimport Constants from '../Constants';\nimport Utils from '../Utils';\nimport { Container } from './Container';\nimport { ComponentMapping } from \"../ComponentMapping\";\nconst NN_JCR_CONTENT = 'jcr:content';\nconst PAGE_CLASS_NAMES = 'aem-page';\n/**\n * The container for a Page.\n * In editing we need to force that this doesn't render a placeholder.\n * It should add data-cq-page-path instead fo data-cq-data-path.\n */\nexport class Page extends Container {\n    constructor(props) {\n        super(props);\n        // @ts-ignore\n        this.state = {\n            componentMapping: this.props.componentMapping || ComponentMapping\n        };\n    }\n    /**\n     * The attributes that will be injected in the root element of the container\n     *\n     * @returns {Object} - the attributes of the container\n     */\n    get containerProps() {\n        const attrs = {\n            className: PAGE_CLASS_NAMES\n        };\n        if (!this.props.isInEditor) {\n            return attrs;\n        }\n        attrs[Constants.DATA_PATH_ATTR] = this.props.cqPath;\n        return attrs;\n    }\n    /**\n     * Returns the child pages of a page\n     *\n     * @return {Array}\n     */\n    get childPages() {\n        const pages = [];\n        if (!this.props.cqChildren) {\n            return pages;\n        }\n        Object.keys(this.props.cqChildren).map((itemKey) => {\n            const itemProps = Utils.modelToProps(this.props.cqChildren[itemKey]);\n            const ItemComponent = this.state.componentMapping.get(itemProps.cqType);\n            if (ItemComponent) {\n                pages.push(React.createElement(ItemComponent, Object.assign({ key: itemProps.cqPath }, itemProps, { cqPath: itemProps.cqPath })));\n            }\n        });\n        return pages;\n    }\n    /**\n     * Computes the path of the current item.\n     *\n     * @param {String} itemKey - the key of the item\n     * @returns {String} - the computed path\n     */\n    getItemPath(itemKey) {\n        return (this.props && this.props.cqPath) ? (this.props.cqPath + '/' + NN_JCR_CONTENT + '/' + itemKey) : itemKey;\n    }\n    render() {\n        return (React.createElement(\"div\", Object.assign({}, this.containerProps),\n            this.childComponents,\n            this.childPages));\n    }\n}\nPage.defaultProps = {\n    cqChildren: {},\n    cqItems: {},\n    cqItemsOrder: [],\n    cqPath: ''\n};\n","import { MapTo, withComponentMappingContext } from '../ComponentMapping';\nimport { AllowedComponentsContainer } from './allowedcomponents/AllowedComponentsContainer';\nconst PLACEHOLDER_CLASS_NAMES = 'aem-Grid-newComponent';\nexport class ResponsiveGrid extends AllowedComponentsContainer {\n    /**\n     * The attributes that will be injected in the root element of the container.\n     *\n     * @returns {Object} - the attributes of the container\n     */\n    get containerProps() {\n        const containerProps = super.containerProps;\n        containerProps.className = (containerProps.className || '') + ' ' + this.props.gridClassNames;\n        return containerProps;\n    }\n    /**\n     * The properties that will go on the placeholder component root element\n     *\n     * @returns {Object} - the properties as a map\n     */\n    get placeholderProps() {\n        const props = super.placeholderProps;\n        props.placeholderClassNames = (props.placeholderClassNames || '') + ' ' + PLACEHOLDER_CLASS_NAMES;\n        return props;\n    }\n    /**\n     * Returns the properties to add on a specific child component\n     *\n     * @param   {Object} item     The item data\n     * @param   {String} itemKey  The key of the item\n     * @param   {String} itemPath The path of the item\n     * @returns {Object} The map of properties to be added\n     */\n    getItemComponentProps(item, itemKey, itemPath) {\n        const attrs = super.getItemComponentProps(item, itemKey, itemPath);\n        attrs.className = attrs.className || '';\n        attrs.className += this.props.columnClassNames && this.props.columnClassNames[itemKey] ? ' ' + this.props.columnClassNames[itemKey] : '';\n        return attrs;\n    }\n}\nResponsiveGrid.defaultProps = {\n    // Temporary property until CQ-4265892 is addressed, beware not rely it\n    _allowedComponentPlaceholderListEmptyLabel: 'No allowed components for Layout Container',\n    cqItems: {},\n    cqItemsOrder: [],\n    cqPath: '',\n    title: 'Layout Container'\n};\nconst config = {\n    isEmpty(props) {\n        return props.cqItemsOrder && props.cqItemsOrder.length > 0;\n    }\n};\nMapTo('wcm/foundation/components/responsivegrid')(withComponentMappingContext(ResponsiveGrid), config);\n"],"sourceRoot":""}