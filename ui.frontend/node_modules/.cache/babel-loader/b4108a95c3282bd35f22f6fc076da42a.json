{"ast":null,"code":"!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.cqReactEditableComponents = e() : t.cqReactEditableComponents = e();\n}(\"undefined\" != typeof self ? self : this, function () {\n  return function (t) {\n    var e = {};\n\n    function n(r) {\n      if (e[r]) return e[r].exports;\n      var o = e[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return t[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n    }\n\n    return n.m = t, n.c = e, n.d = function (t, e, r) {\n      n.o(t, e) || Object.defineProperty(t, e, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (t, e) {\n      if (1 & e && (t = n(t)), 8 & e) return t;\n      if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & e && \"string\" != typeof t) for (var o in t) {\n        n.d(r, o, function (e) {\n          return t[e];\n        }.bind(null, o));\n      }\n      return r;\n    }, n.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t[\"default\"];\n      } : function () {\n        return t;\n      };\n      return n.d(e, \"a\", e), e;\n    }, n.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, n.p = \"\", n(n.s = 14);\n  }([function (t, e) {\n    t.exports = require(\"react\");\n  }, function (t, e) {\n    t.exports = require(\"prop-types\");\n  }, function (t, e) {\n    t.exports = require(\"@adobe/cq-spa-page-model-manager\");\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.d(e, \"c\", function () {\n      return f;\n    }), n.d(e, \"b\", function () {\n      return l;\n    }), n.d(e, \"d\", function () {\n      return y;\n    });\n    var r = n(0),\n        o = n.n(r),\n        i = n(6);\n    n.d(e, \"a\", function () {\n      return i.ComponentMapping;\n    });\n    var a = n(8),\n        u = n(9),\n        c = n(10);\n\n    function p() {\n      return (p = Object.assign || function (t) {\n        for (var e = 1; e < arguments.length; e++) {\n          var n = arguments[e];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);\n          }\n        }\n\n        return t;\n      }).apply(this, arguments);\n    }\n\n    var s = i.ComponentMapping.map;\n\n    function f(t) {\n      return function (e, n) {\n        return i.ComponentMapping.map(t, e, n);\n      };\n    }\n\n    i.ComponentMapping.map = function (t, e, n, r) {\n      r = r || {};\n      var o = e;\n      return o = Object(u.b)(Object(a.b)(Object(c.a)(o, n), r)), s.call(i.ComponentMapping, t, o), o;\n    };\n\n    var l = o.a.createContext(i.ComponentMapping),\n        y = function y(t) {\n      return function (e) {\n        return o.a.createElement(l.Consumer, null, function (n) {\n          return o.a.createElement(t, p({}, e, {\n            componentMapping: n\n          }));\n        });\n      };\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    function r() {\n      if (function () {\n        try {\n          return \"undefined\" != typeof window;\n        } catch (t) {\n          return !1;\n        }\n      }()) {\n        var t = document.head.querySelector('meta[property=\"cq:wcmmode\"]');\n        return t && t.content;\n      }\n\n      return !1;\n    }\n\n    var o = {\n      isInEditor: function isInEditor() {\n        var t = r();\n        return t && (\"edit\" === t || \"preview\" === t);\n      },\n      modelToProps: function modelToProps(t) {\n        var e = Object.getOwnPropertyNames(t),\n            n = {};\n        return e.forEach(function (e) {\n          var r = e;\n\n          if (r.startsWith(\":\")) {\n            var o = r.substr(1);\n            r = \"cq\" + o.substr(0, 1).toUpperCase() + o.substr(1);\n          }\n\n          n[r] = t[e];\n        }), n;\n      }\n    };\n    e.a = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var r = n(2),\n        o = {\n      DATA_PATH_ATTR: \"data-cq-data-path\",\n      NEW_SECTION_CLASS_NAMES: \"new section\",\n      TYPE_PROP: r.Constants.TYPE_PROP,\n      ITEMS_PROP: r.Constants.ITEMS_PROP,\n      ITEMS_ORDER_PROP: r.Constants.ITEMS_ORDER_PROP,\n      PATH_PROP: r.Constants.PATH_PROP,\n      CHILDREN_PROP: r.Constants.CHILDREN_PROP,\n      HIERARCHY_TYPE_PROP: r.Constants.HIERARCHY_TYPE_PROP\n    };\n    e.a = o;\n  }, function (t, e) {\n    t.exports = require(\"@adobe/cq-spa-component-mapping\");\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.d(e, \"a\", function () {\n      return O;\n    });\n    var r = n(0),\n        o = n.n(r),\n        i = n(1),\n        a = n.n(i),\n        u = n(5),\n        c = n(4),\n        p = n(3);\n\n    function s(t) {\n      return (s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n        return typeof t;\n      } : function (t) {\n        return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n      })(t);\n    }\n\n    function f() {\n      return (f = Object.assign || function (t) {\n        for (var e = 1; e < arguments.length; e++) {\n          var n = arguments[e];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);\n          }\n        }\n\n        return t;\n      }).apply(this, arguments);\n    }\n\n    function l(t, e) {\n      if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function y(t, e) {\n      for (var n = 0; n < e.length; n++) {\n        var r = e[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n      }\n    }\n\n    function h(t, e, n) {\n      return e && y(t.prototype, e), n && y(t, n), t;\n    }\n\n    function m(t, e) {\n      return !e || \"object\" !== s(e) && \"function\" != typeof e ? function (t) {\n        if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return t;\n      }(t) : e;\n    }\n\n    function d(t) {\n      return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n        return t.__proto__ || Object.getPrototypeOf(t);\n      })(t);\n    }\n\n    function b(t, e) {\n      if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n      t.prototype = Object.create(e && e.prototype, {\n        constructor: {\n          value: t,\n          writable: !0,\n          configurable: !0\n        }\n      }), e && v(t, e);\n    }\n\n    function v(t, e) {\n      return (v = Object.setPrototypeOf || function (t, e) {\n        return t.__proto__ = e, t;\n      })(t, e);\n    }\n\n    var g = u.a.NEW_SECTION_CLASS_NAMES,\n        P = function (t) {\n      function e() {\n        return l(this, e), m(this, d(e).apply(this, arguments));\n      }\n\n      return b(e, t), h(e, [{\n        key: \"render\",\n        value: function value() {\n          return o.a.createElement(\"div\", {\n            \"data-cq-data-path\": this.props.cqPath + \"/*\",\n            className: this.props.placeholderClassNames\n          });\n        }\n      }], [{\n        key: \"propTypes\",\n        get: function get() {\n          return {\n            cqPath: a.a.string,\n            placeholderClassNames: a.a.string\n          };\n        }\n      }]), e;\n    }(r.Component),\n        O = function (t) {\n      function e(t) {\n        var n;\n        return l(this, e), (n = m(this, d(e).call(this, t))).state = {\n          componentMapping: n.props.componentMapping || p.a\n        }, n;\n      }\n\n      return b(e, t), h(e, [{\n        key: \"connectComponentWithItem\",\n        value: function value(t, e, n) {\n          var r = this.getItemPath(n);\n          return o.a.createElement(t, f({}, e, {\n            key: r,\n            cqPath: r,\n            isInEditor: this.props.isInEditor,\n            containerProps: this.getItemComponentProps(e, n, r)\n          }));\n        }\n      }, {\n        key: \"getItemComponentProps\",\n        value: function value() {\n          return {};\n        }\n      }, {\n        key: \"getItemPath\",\n        value: function value(t) {\n          return this.props && this.props.cqPath ? this.props.cqPath + \"/\" + t : t;\n        }\n      }, {\n        key: \"render\",\n        value: function value() {\n          return o.a.createElement(\"div\", this.containerProps, this.childComponents, this.placeholderComponent);\n        }\n      }, {\n        key: \"childComponents\",\n        get: function get() {\n          var t = this,\n              e = [];\n          return this.props.cqItems && this.props.cqItemsOrder ? (this.props.cqItemsOrder.map(function (n) {\n            var r = c.a.modelToProps(t.props.cqItems[n]);\n\n            if (r) {\n              var o = t.state.componentMapping.get(r.cqType);\n              o && e.push(t.connectComponentWithItem(o, r, n));\n            }\n          }), e) : e;\n        }\n      }, {\n        key: \"containerProps\",\n        get: function get() {\n          var t = {\n            className: \"aem-container\"\n          };\n          return this.props.isInEditor && (t[u.a.DATA_PATH_ATTR] = this.props.cqPath), t;\n        }\n      }, {\n        key: \"placeholderProps\",\n        get: function get() {\n          return {\n            cqPath: this.props.cqPath,\n            placeholderClassNames: g\n          };\n        }\n      }, {\n        key: \"placeholderComponent\",\n        get: function get() {\n          return this.props.isInEditor ? o.a.createElement(P, this.placeholderProps) : null;\n        }\n      }]), e;\n    }(r.Component);\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.d(e, \"a\", function () {\n      return g;\n    }), n.d(e, \"b\", function () {\n      return P;\n    });\n    var r = n(0),\n        o = n.n(r),\n        i = n(2),\n        a = n(4),\n        u = n(12),\n        c = n.n(u);\n\n    function p(t) {\n      return (p = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n        return typeof t;\n      } : function (t) {\n        return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n      })(t);\n    }\n\n    function s() {\n      return (s = Object.assign || function (t) {\n        for (var e = 1; e < arguments.length; e++) {\n          var n = arguments[e];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);\n          }\n        }\n\n        return t;\n      }).apply(this, arguments);\n    }\n\n    function f(t, e) {\n      if (null == t) return {};\n\n      var n,\n          r,\n          o = function (t, e) {\n        if (null == t) return {};\n        var n,\n            r,\n            o = {},\n            i = Object.keys(t);\n\n        for (r = 0; r < i.length; r++) {\n          n = i[r], e.indexOf(n) >= 0 || (o[n] = t[n]);\n        }\n\n        return o;\n      }(t, e);\n\n      if (Object.getOwnPropertySymbols) {\n        var i = Object.getOwnPropertySymbols(t);\n\n        for (r = 0; r < i.length; r++) {\n          n = i[r], e.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(t, n) && (o[n] = t[n]);\n        }\n      }\n\n      return o;\n    }\n\n    function l(t, e) {\n      if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function y(t, e) {\n      for (var n = 0; n < e.length; n++) {\n        var r = e[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n      }\n    }\n\n    function h(t, e, n) {\n      return e && y(t.prototype, e), n && y(t, n), t;\n    }\n\n    function m(t, e) {\n      return !e || \"object\" !== p(e) && \"function\" != typeof e ? function (t) {\n        if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return t;\n      }(t) : e;\n    }\n\n    function d(t) {\n      return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n        return t.__proto__ || Object.getPrototypeOf(t);\n      })(t);\n    }\n\n    function b(t, e) {\n      if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n      t.prototype = Object.create(e && e.prototype, {\n        constructor: {\n          value: t,\n          writable: !0,\n          configurable: !0\n        }\n      }), e && v(t, e);\n    }\n\n    function v(t, e) {\n      return (v = Object.setPrototypeOf || function (t, e) {\n        return t.__proto__ = e, t;\n      })(t, e);\n    }\n\n    var g = function (t) {\n      function e(t) {\n        var n;\n        return l(this, e), (n = m(this, d(e).call(this, t))).state = n.propsToState(t), n;\n      }\n\n      return b(e, t), h(e, [{\n        key: \"propsToState\",\n        value: function value(t) {\n          t.wrappedComponent, t.cqForceReload;\n          return f(t, [\"wrappedComponent\", \"cqForceReload\"]);\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function value(t) {\n          c()(t, this.props) || this.setState(this.propsToState(this.props));\n        }\n      }, {\n        key: \"updateData\",\n        value: function value() {\n          var t = this;\n          i.ModelManager.getData({\n            path: this.props.cqPath,\n            forceReload: this.props.cqForceReload\n          }).then(function (e) {\n            t.setState(a.a.modelToProps(e));\n          });\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function value() {\n          i.ModelManager.addListener(this.props.cqPath, this.updateData.bind(this));\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function value() {\n          i.ModelManager.removeListener(this.props.cqPath, this.updateData.bind(this));\n        }\n      }, {\n        key: \"render\",\n        value: function value() {\n          var t = this.props.wrappedComponent;\n          return o.a.createElement(t, this.state);\n        }\n      }]), e;\n    }(r.Component),\n        P = function P(t, e) {\n      return function (n) {\n        function r() {\n          return l(this, r), m(this, d(r).apply(this, arguments));\n        }\n\n        return b(r, n), h(r, [{\n          key: \"render\",\n          value: function value() {\n            e = e || {};\n            var n = this.props.cqForceReload || e.forceReload;\n            return o.a.createElement(g, s({}, this.props, {\n              cqForceReload: n,\n              wrappedComponent: t\n            }));\n          }\n        }]), r;\n      }(r.Component);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.d(e, \"a\", function () {\n      return u;\n    }), n.d(e, \"b\", function () {\n      return c;\n    });\n    var r = n(0),\n        o = n.n(r),\n        i = n(4);\n\n    function a() {\n      return (a = Object.assign || function (t) {\n        for (var e = 1; e < arguments.length; e++) {\n          var n = arguments[e];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);\n          }\n        }\n\n        return t;\n      }).apply(this, arguments);\n    }\n\n    var u = o.a.createContext(i.a.isInEditor()),\n        c = function c(t) {\n      return function (e) {\n        return o.a.createElement(u.Consumer, null, function (n) {\n          return o.a.createElement(t, a({}, e, {\n            isInEditor: n\n          }));\n        });\n      };\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.d(e, \"a\", function () {\n      return g;\n    });\n    var r = n(0),\n        o = n.n(r),\n        i = n(5),\n        a = n(12),\n        u = n.n(a);\n\n    function c(t) {\n      return (c = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n        return typeof t;\n      } : function (t) {\n        return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n      })(t);\n    }\n\n    function p() {\n      return (p = Object.assign || function (t) {\n        for (var e = 1; e < arguments.length; e++) {\n          var n = arguments[e];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);\n          }\n        }\n\n        return t;\n      }).apply(this, arguments);\n    }\n\n    function s(t, e) {\n      if (null == t) return {};\n\n      var n,\n          r,\n          o = function (t, e) {\n        if (null == t) return {};\n        var n,\n            r,\n            o = {},\n            i = Object.keys(t);\n\n        for (r = 0; r < i.length; r++) {\n          n = i[r], e.indexOf(n) >= 0 || (o[n] = t[n]);\n        }\n\n        return o;\n      }(t, e);\n\n      if (Object.getOwnPropertySymbols) {\n        var i = Object.getOwnPropertySymbols(t);\n\n        for (r = 0; r < i.length; r++) {\n          n = i[r], e.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(t, n) && (o[n] = t[n]);\n        }\n      }\n\n      return o;\n    }\n\n    function f(t, e) {\n      if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function l(t, e) {\n      for (var n = 0; n < e.length; n++) {\n        var r = e[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n      }\n    }\n\n    function y(t, e, n) {\n      return e && l(t.prototype, e), n && l(t, n), t;\n    }\n\n    function h(t, e) {\n      return !e || \"object\" !== c(e) && \"function\" != typeof e ? function (t) {\n        if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return t;\n      }(t) : e;\n    }\n\n    function m(t) {\n      return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n        return t.__proto__ || Object.getPrototypeOf(t);\n      })(t);\n    }\n\n    function d(t, e) {\n      if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n      t.prototype = Object.create(e && e.prototype, {\n        constructor: {\n          value: t,\n          writable: !0,\n          configurable: !0\n        }\n      }), e && b(t, e);\n    }\n\n    function b(t, e) {\n      return (b = Object.setPrototypeOf || function (t, e) {\n        return t.__proto__ = e, t;\n      })(t, e);\n    }\n\n    var v = function (t) {\n      function e(t) {\n        var n;\n        return f(this, e), (n = h(this, m(e).call(this, t))).state = n.propsToState(t), n;\n      }\n\n      return d(e, t), y(e, [{\n        key: \"propsToState\",\n        value: function value(t) {\n          t.wrappedComponent, t.containerProps, t.editConfig;\n          return s(t, [\"wrappedComponent\", \"containerProps\", \"editConfig\"]);\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function value(t) {\n          u()(t, this.props) || this.setState(this.propsToState(this.props));\n        }\n      }, {\n        key: \"useEmptyPlaceholder\",\n        value: function value() {\n          return this.props.isInEditor && this.props.editConfig && \"function\" == typeof this.props.editConfig.isEmpty && this.props.editConfig.isEmpty(this.props);\n        }\n      }, {\n        key: \"render\",\n        value: function value() {\n          var t = this.props.wrappedComponent;\n          return o.a.createElement(\"div\", p({}, this.editProps, this.props.containerProps), o.a.createElement(t, this.state), o.a.createElement(\"div\", this.emptyPlaceholderProps));\n        }\n      }, {\n        key: \"editProps\",\n        get: function get() {\n          var t = {};\n          return this.props.isInEditor ? (t[i.a.DATA_PATH_ATTR] = this.props.cqPath, t) : t;\n        }\n      }, {\n        key: \"emptyPlaceholderProps\",\n        get: function get() {\n          return this.useEmptyPlaceholder() ? {\n            \"data-emptytext\": this.props.editConfig.emptyLabel,\n            className: \"cq-placeholder\"\n          } : null;\n        }\n      }]), e;\n    }(r.Component);\n\n    function g(t, e) {\n      return function (n) {\n        function r() {\n          return f(this, r), h(this, m(r).apply(this, arguments));\n        }\n\n        return d(r, n), y(r, [{\n          key: \"render\",\n          value: function value() {\n            return o.a.createElement(v, p({}, this.props, {\n              editConfig: e,\n              wrappedComponent: t\n            }));\n          }\n        }]), r;\n      }(r.Component);\n    }\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.d(e, \"a\", function () {\n      return P;\n    });\n    var r = n(7),\n        o = n(0),\n        i = n.n(o),\n        a = n(1),\n        u = n.n(a);\n\n    function c(t) {\n      return (c = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n        return typeof t;\n      } : function (t) {\n        return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n      })(t);\n    }\n\n    function p() {\n      return (p = Object.assign || function (t) {\n        for (var e = 1; e < arguments.length; e++) {\n          var n = arguments[e];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);\n          }\n        }\n\n        return t;\n      }).apply(this, arguments);\n    }\n\n    function s(t, e, n) {\n      return (s = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {\n        var r = function (t, e) {\n          for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = m(t));) {\n            ;\n          }\n\n          return t;\n        }(t, e);\n\n        if (r) {\n          var o = Object.getOwnPropertyDescriptor(r, e);\n          return o.get ? o.get.call(n) : o.value;\n        }\n      })(t, e, n || t);\n    }\n\n    function f(t, e) {\n      if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function l(t, e) {\n      for (var n = 0; n < e.length; n++) {\n        var r = e[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n      }\n    }\n\n    function y(t, e, n) {\n      return e && l(t.prototype, e), n && l(t, n), t;\n    }\n\n    function h(t, e) {\n      return !e || \"object\" !== c(e) && \"function\" != typeof e ? function (t) {\n        if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return t;\n      }(t) : e;\n    }\n\n    function m(t) {\n      return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n        return t.__proto__ || Object.getPrototypeOf(t);\n      })(t);\n    }\n\n    function d(t, e) {\n      if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n      t.prototype = Object.create(e && e.prototype, {\n        constructor: {\n          value: t,\n          writable: !0,\n          configurable: !0\n        }\n      }), e && b(t, e);\n    }\n\n    function b(t, e) {\n      return (b = Object.setPrototypeOf || function (t, e) {\n        return t.__proto__ = e, t;\n      })(t, e);\n    }\n\n    var v = function (t) {\n      function e() {\n        return f(this, e), h(this, m(e).apply(this, arguments));\n      }\n\n      return d(e, t), y(e, [{\n        key: \"render\",\n        value: function value() {\n          var t = this.props,\n              e = t.path,\n              n = t.emptyLabel;\n          return i.a.createElement(\"div\", {\n            \"data-cq-data-path\": e,\n            \"data-emptytext\": n,\n            className: \"aem-AllowedComponent--component cq-placeholder placeholder\"\n          });\n        }\n      }], [{\n        key: \"propTypes\",\n        get: function get() {\n          return {\n            emptyLabel: u.a.string,\n            path: u.a.string\n          };\n        }\n      }]), e;\n    }(o.Component),\n        g = function (t) {\n      function e() {\n        return f(this, e), h(this, m(e).apply(this, arguments));\n      }\n\n      return d(e, t), y(e, [{\n        key: \"render\",\n        value: function value() {\n          var t = this.props,\n              e = t.components,\n              n = t.placeholderClassNames,\n              r = t.title,\n              o = t.emptyLabel,\n              a = e && e.length > 0 ? r : o;\n          return i.a.createElement(\"div\", {\n            className: \"aem-AllowedComponent--list \" + n\n          }, i.a.createElement(\"div\", {\n            \"data-text\": a,\n            className: \"aem-AllowedComponent--title\"\n          }), e.map(function (t, e) {\n            return i.a.createElement(v, {\n              key: e,\n              path: t.path,\n              emptyLabel: t.title\n            });\n          }));\n        }\n      }], [{\n        key: \"propTypes\",\n        get: function get() {\n          return {\n            title: u.a.string,\n            emptyLabel: u.a.string,\n            components: u.a.arrayOf(u.a.shape({\n              path: u.a.string,\n              title: u.a.string\n            })),\n            placeholderClassNames: u.a.string,\n            cqPath: u.a.string\n          };\n        }\n      }]), e;\n    }(o.Component),\n        P = function (t) {\n      function e() {\n        return f(this, e), h(this, m(e).apply(this, arguments));\n      }\n\n      return d(e, t), y(e, [{\n        key: \"render\",\n        value: function value() {\n          var t = this.props,\n              n = t.allowedComponents,\n              r = t._allowedComponentPlaceholderListEmptyLabel,\n              o = t.title;\n          return t.isInEditor && n && n.applicable ? i.a.createElement(g, p({\n            title: o,\n            emptyLabel: r,\n            components: n.components\n          }, this.placeholderProps)) : s(m(e.prototype), \"render\", this).call(this);\n        }\n      }]), e;\n    }(r.a);\n\n    P.defaultProps = {\n      _allowedComponentPlaceholderListEmptyLabel: \"No allowed components\"\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var r = Array.isArray,\n        o = Object.keys,\n        i = Object.prototype.hasOwnProperty,\n        a = \"undefined\" != typeof Element;\n\n    t.exports = function (t, e) {\n      try {\n        return function t(e, n) {\n          if (e === n) return !0;\n\n          if (e && n && \"object\" == typeof e && \"object\" == typeof n) {\n            var u,\n                c,\n                p,\n                s = r(e),\n                f = r(n);\n\n            if (s && f) {\n              if ((c = e.length) != n.length) return !1;\n\n              for (u = c; 0 != u--;) {\n                if (!t(e[u], n[u])) return !1;\n              }\n\n              return !0;\n            }\n\n            if (s != f) return !1;\n            var l = e instanceof Date,\n                y = n instanceof Date;\n            if (l != y) return !1;\n            if (l && y) return e.getTime() == n.getTime();\n            var h = e instanceof RegExp,\n                m = n instanceof RegExp;\n            if (h != m) return !1;\n            if (h && m) return e.toString() == n.toString();\n            var d = o(e);\n            if ((c = d.length) !== o(n).length) return !1;\n\n            for (u = c; 0 != u--;) {\n              if (!i.call(n, d[u])) return !1;\n            }\n\n            if (a && e instanceof Element && n instanceof Element) return e === n;\n\n            for (u = c; 0 != u--;) {\n              if (!(\"_owner\" === (p = d[u]) && e.$$typeof || t(e[p], n[p]))) return !1;\n            }\n\n            return !0;\n          }\n\n          return e != e && n != n;\n        }(t, e);\n      } catch (t) {\n        if (t.message && t.message.match(/stack|recursion/i) || -2146828260 === t.number) return console.warn(\"Warning: react-fast-compare does not handle circular references.\", t.name, t.message), !1;\n        throw t;\n      }\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e), n.d(e, \"ResponsiveGrid\", function () {\n      return l;\n    });\n    var r = n(3),\n        o = n(11);\n\n    function i(t) {\n      return (i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n        return typeof t;\n      } : function (t) {\n        return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n      })(t);\n    }\n\n    function a(t, e) {\n      if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function u(t, e) {\n      for (var n = 0; n < e.length; n++) {\n        var r = e[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n      }\n    }\n\n    function c(t, e) {\n      return !e || \"object\" !== i(e) && \"function\" != typeof e ? function (t) {\n        if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return t;\n      }(t) : e;\n    }\n\n    function p(t, e, n) {\n      return (p = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) {\n        var r = function (t, e) {\n          for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = s(t));) {\n            ;\n          }\n\n          return t;\n        }(t, e);\n\n        if (r) {\n          var o = Object.getOwnPropertyDescriptor(r, e);\n          return o.get ? o.get.call(n) : o.value;\n        }\n      })(t, e, n || t);\n    }\n\n    function s(t) {\n      return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n        return t.__proto__ || Object.getPrototypeOf(t);\n      })(t);\n    }\n\n    function f(t, e) {\n      return (f = Object.setPrototypeOf || function (t, e) {\n        return t.__proto__ = e, t;\n      })(t, e);\n    }\n\n    var l = function (t) {\n      function e() {\n        return a(this, e), c(this, s(e).apply(this, arguments));\n      }\n\n      var n, r, o;\n      return function (t, e) {\n        if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n        t.prototype = Object.create(e && e.prototype, {\n          constructor: {\n            value: t,\n            writable: !0,\n            configurable: !0\n          }\n        }), e && f(t, e);\n      }(e, t), n = e, (r = [{\n        key: \"getItemComponentProps\",\n        value: function value(t, n, r) {\n          var o = p(s(e.prototype), \"getItemComponentProps\", this).call(this, t, n, r);\n          return o.className = o.className || \"\", o.className += this.props.columnClassNames && this.props.columnClassNames[n] ? \" \" + this.props.columnClassNames[n] : \"\", o;\n        }\n      }, {\n        key: \"containerProps\",\n        get: function get() {\n          var t = p(s(e.prototype), \"containerProps\", this);\n          return t.className = (t.className || \"\") + \" \" + this.props.gridClassNames, t;\n        }\n      }, {\n        key: \"placeholderProps\",\n        get: function get() {\n          var t = p(s(e.prototype), \"placeholderProps\", this);\n          return t.placeholderClassNames = (t.placeholderClassNames || \"\") + \" aem-Grid-newComponent\", t;\n        }\n      }]) && u(n.prototype, r), o && u(n, o), e;\n    }(o.a);\n\n    l.defaultProps = {\n      title: \"Layout Container\",\n      _allowedComponentPlaceholderListEmptyLabel: \"No allowed components for Layout Container\"\n    }, Object(r.c)(\"wcm/foundation/components/responsivegrid\")(Object(r.d)(l));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e), n.d(e, \"ComponentMapping\", function () {\n      return r.a;\n    }), n.d(e, \"MapTo\", function () {\n      return r.c;\n    }), n.d(e, \"ComponentMappingContext\", function () {\n      return r.b;\n    }), n.d(e, \"withComponentMappingContext\", function () {\n      return r.d;\n    }), n.d(e, \"Container\", function () {\n      return o.a;\n    }), n.d(e, \"AllowedComponentsContainer\", function () {\n      return i.a;\n    }), n.d(e, \"ResponsiveGrid\", function () {\n      return a.ResponsiveGrid;\n    }), n.d(e, \"withEditable\", function () {\n      return u.a;\n    }), n.d(e, \"EditorContext\", function () {\n      return c.a;\n    }), n.d(e, \"withEditorContext\", function () {\n      return c.b;\n    }), n.d(e, \"Page\", function () {\n      return P;\n    }), n.d(e, \"ModelProvider\", function () {\n      return O.a;\n    }), n.d(e, \"withModel\", function () {\n      return O.b;\n    }), n.d(e, \"Constants\", function () {\n      return l.a;\n    }), n.d(e, \"Utils\", function () {\n      return f.a;\n    });\n    var r = n(3),\n        o = n(7),\n        i = n(11),\n        a = n(13),\n        u = n(10),\n        c = n(9),\n        p = n(0),\n        s = n.n(p),\n        f = n(4),\n        l = n(5);\n\n    function y(t) {\n      return (y = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n        return typeof t;\n      } : function (t) {\n        return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n      })(t);\n    }\n\n    function h() {\n      return (h = Object.assign || function (t) {\n        for (var e = 1; e < arguments.length; e++) {\n          var n = arguments[e];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);\n          }\n        }\n\n        return t;\n      }).apply(this, arguments);\n    }\n\n    function m(t, e) {\n      if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function d(t, e) {\n      for (var n = 0; n < e.length; n++) {\n        var r = e[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n      }\n    }\n\n    function b(t, e) {\n      return !e || \"object\" !== y(e) && \"function\" != typeof e ? function (t) {\n        if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return t;\n      }(t) : e;\n    }\n\n    function v(t) {\n      return (v = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n        return t.__proto__ || Object.getPrototypeOf(t);\n      })(t);\n    }\n\n    function g(t, e) {\n      return (g = Object.setPrototypeOf || function (t, e) {\n        return t.__proto__ = e, t;\n      })(t, e);\n    }\n\n    var P = function (t) {\n      function e() {\n        return m(this, e), b(this, v(e).apply(this, arguments));\n      }\n\n      var n, r, o;\n      return function (t, e) {\n        if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n        t.prototype = Object.create(e && e.prototype, {\n          constructor: {\n            value: t,\n            writable: !0,\n            configurable: !0\n          }\n        }), e && g(t, e);\n      }(e, t), n = e, (r = [{\n        key: \"getItemPath\",\n        value: function value(t) {\n          return this.props && this.props.cqPath ? this.props.cqPath + \"/jcr:content/\" + t : t;\n        }\n      }, {\n        key: \"render\",\n        value: function value() {\n          return s.a.createElement(\"div\", this.containerProps, this.childComponents, this.childPages);\n        }\n      }, {\n        key: \"containerProps\",\n        get: function get() {\n          var t = {\n            className: \"aem-page\"\n          };\n          return this.props.isInEditor ? (t[l.a.DATA_PATH_ATTR] = this.props.cqPath, t) : t;\n        }\n      }, {\n        key: \"childPages\",\n        get: function get() {\n          var t = this,\n              e = [];\n          return this.props.cqChildren ? (Object.keys(this.props.cqChildren).map(function (n) {\n            var r = f.a.modelToProps(t.props.cqChildren[n]),\n                o = t.state.componentMapping.get(r.cqType);\n            o && e.push(s.a.createElement(o, h({\n              key: r.cqPath\n            }, r, {\n              cqPath: r.cqPath\n            })));\n          }), e) : e;\n        }\n      }]) && d(n.prototype, r), o && d(n, o), e;\n    }(o.a),\n        O = n(8);\n\n    n(13);\n  }]);\n});","map":{"version":3,"sources":["webpack://cqReactEditableComponents/webpack/universalModuleDefinition","webpack://cqReactEditableComponents/webpack/bootstrap","webpack:/cqReactEditableComponents/external \"react\"","webpack:/cqReactEditableComponents/external \"prop-types\"","webpack:/cqReactEditableComponents/external \"@adobe/cq-spa-page-model-manager\"","webpack://cqReactEditableComponents/src/ComponentMapping.js","webpack://cqReactEditableComponents/src/Utils.js","webpack://cqReactEditableComponents/src/Constants.js","webpack:/cqReactEditableComponents/external \"@adobe/cq-spa-component-mapping\"","webpack://cqReactEditableComponents/src/components/Container.js","webpack://cqReactEditableComponents/src/components/ModelProvider.js","webpack://cqReactEditableComponents/src/EditorContext.js","webpack://cqReactEditableComponents/src/components/EditableComponent.js","webpack://cqReactEditableComponents/src/components/AllowedComponentsContainer.js","webpack://cqReactEditableComponents/node_modules/react-fast-compare/index.js","webpack://cqReactEditableComponents/src/components/ResponsiveGrid.js","webpack://cqReactEditableComponents/src/components/Page.js","webpack://cqReactEditableComponents/index.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","wrappedMapFct","ComponentMapping","map","resourceTypes","component","editConfig","config","innerComponent","withEditorContext","withModel","withEditable","MapTo","clazz","ComponentMappingContext","React","createContext","withComponentMappingContext","Component","props","Consumer","componentMapping","window","e","getWCMMode","isBrowser","wcmModeMeta","document","head","querySelector","content","Utils","isInEditor","wcmMode","modelToProps","item","keys","getOwnPropertyNames","forEach","propKey","startsWith","tempKey","substr","toUpperCase","Constants","DATA_PATH_ATTR","NEW_SECTION_CLASS_NAMES","TYPE_PROP","PMConstants","ITEMS_PROP","ITEMS_ORDER_PROP","PATH_PROP","CHILDREN_PROP","HIERARCHY_TYPE_PROP","PLACEHOLDER_CLASS_NAMES","ContainerPlaceholder","cqPath","PropTypes","string","placeholderClassNames","data-cq-data-path","className","Container","state","childComponents","cqItems","cqItemsOrder","itemKey","itemProps","ItemComponent","cqType","push","connectComponentWithItem","ChildComponent","itemPath","getItemPath","containerProps","getItemComponentProps","attrs","placeholderProps","placeholderComponent","ModelProvider","propsToState","wrappedComponent","cqForceReload","prevProps","isEqual","setState","ModelManager","getData","path","forceReload","then","data","addListener","updateData","removeListener","WrappedComponent","modelConfig","EditorContext","EditableComponent","eProps","useEmptyPlaceholder","emptyLabel","isEmpty","editProps","emptyPlaceholderProps","AllowedComponentPlaceholder","data-emptytext","AllowedComponentPlaceholderList","title","components","arrayOf","shape","listLabel","length","ALLOWED_PLACEHOLDER_CLASS_NAMES","data-text","AllowedComponentsContainer","allowedComponents","_allowedComponentPlaceholderListEmptyLabel","applicable","defaultProps","isArray","Array","keyList","hasProp","hasElementType","Element","equal","a","b","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","toString","$$typeof","error","message","match","number","console","warn","ResponsiveGrid","gridClassNames","columnClassNames","Page","pages","cqChildren","childPages"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cqReactEditableComponents\"] = factory();\n\telse\n\t\troot[\"cqReactEditableComponents\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","module.exports = require(\"react\");","module.exports = require(\"prop-types\");","module.exports = require(\"@adobe/cq-spa-page-model-manager\");","/*\n * ADOBE CONFIDENTIAL\n *\n * Copyright 2018 Adobe Systems Incorporated\n * All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and may be covered by U.S. and Foreign Patents,\n * patents in process, and are protected by trade secret or copyright law.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n */\nimport React from \"react\";\nimport { ComponentMapping } from '@adobe/cq-spa-component-mapping';\nimport { withModel } from \"./components/ModelProvider\";\nimport { withEditorContext } from \"./EditorContext\";\nimport { withEditable } from \"./components/EditableComponent\";\n\n/**\n * Wrapped function\n *\n * @type {function}\n * @private\n */\nlet wrappedMapFct = ComponentMapping.map;\n\n/**\n * Map a React component with the given resource types. If an {@link EditConfig} is provided the <i>clazz</i> is wrapped to provide edition capabilities on the AEM Page Editor\n *\n * @param {string[]} resourceTypes                      - list of resource types for which to use the given <i>clazz</i>\n * @param {React.Component} component                   - class to be instantiated for the given resource types\n * @param {EditConfig} [editConfig]                     - configuration object for enabling the edition capabilities\n * @param {{}} [config]                                 - general configuration object\n * @param {boolean} [config.forceReload=undefined]      - should the model cache be ignored when processing the component\n * @returns {React.Component}                           - the resulting decorated Class\n */\nComponentMapping.map = function map (resourceTypes, component, editConfig, config) {\n        config = config || {};\n        let innerComponent = component;\n\n        innerComponent = withEditorContext(withModel(withEditable(innerComponent, editConfig), config));\n\n        wrappedMapFct.call(ComponentMapping, resourceTypes, innerComponent);\n        \n        return innerComponent;\n    };\n\nfunction MapTo(resourceTypes) {\n    return (clazz, editConfig) => {\n        return ComponentMapping.map(resourceTypes, clazz, editConfig);\n    };\n}\n\nconst ComponentMappingContext = React.createContext(ComponentMapping);\n\nconst withComponentMappingContext = (Component) => {\n    return function ComponentMappingContextComponent(props) {\n        return <ComponentMappingContext.Consumer>\n            {componentMapping =>  <Component {...props} componentMapping={componentMapping} />}\n        </ComponentMappingContext.Consumer>\n    }\n};\n\nexport {ComponentMapping, MapTo, ComponentMappingContext, withComponentMappingContext};","/*\n * ADOBE CONFIDENTIAL\n *\n * Copyright 2018 Adobe Systems Incorporated\n * All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and may be covered by U.S. and Foreign Patents,\n * patents in process, and are protected by trade secret or copyright law.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n */\n\n/**\n * Selector that identifies the node that contains the WCM mode state\n *\n * @type {string}\n * @private\n */\nconst WCM_MODE_META_SELECTOR = 'meta[property=\"cq:wcmmode\"]';\n\n/**\n * The editor is in one of the edition modes\n */\nconst EDIT_MODE = 'edit';\n\n/**\n * The editor is in preview mode\n */\nconst PREVIEW_MODE = 'preview';\n/**\n * Returns if we are in the browser context or not by checking for the \n * existance of the window object\n *\n * @returns {Boolean} the result of the check of the existance of the window object\n */\nfunction isBrowser() {\n    try {\n        return typeof window !== 'undefined';\n    }catch(e){ \n        return false;\n    }\n}\n/**\n * Returns the current WCM mode\n *\n * <p>Note that the value isn't, as of the date of this writing, updated by the editor</p>\n *\n * @returns {string|undefined}\n *\n * @private\n */\nfunction getWCMMode() {\n    if (isBrowser()){\n        const wcmModeMeta = document.head.querySelector(WCM_MODE_META_SELECTOR);\n        return wcmModeMeta && wcmModeMeta.content;\n    }\n    return false;\n}\n\n/**\n * Helper functions for interacting with the AEM environment\n *\n * @namespace Utils\n */\nconst Utils = {\n\n    /**\n     * Is the app used in the context of the AEM Page editor\n     *\n     * @returns {boolean}\n     */\n    isInEditor() {\n        const wcmMode = getWCMMode();\n        return wcmMode && (EDIT_MODE === wcmMode || PREVIEW_MODE === wcmMode);\n    },\n\n    /**\n     * Transforms the item data to component properties\n     * It will replace \":\" with \"cq\" and convert the name to CameCase\n     *\n     * @private\n     * @param   {Object} item - the item data\n     * @returns {Object} the transformed data\n     */\n    modelToProps(item) {\n        let keys = Object.getOwnPropertyNames(item);\n        let props = {};\n\n        keys.forEach((key) => {\n            let propKey = key;\n\n            if (propKey.startsWith(\":\")) {\n                // Transformation of internal properties namespaced with [:] to [cq]\n                // :myProperty => cqMyProperty\n                let tempKey = propKey.substr(1);\n                propKey = \"cq\" + tempKey.substr(0, 1).toUpperCase() + tempKey.substr(1);\n            }\n\n            props[propKey] = item[key];\n        });\n\n        return props;\n    }\n};\n\nexport default Utils;\n","/*\n * ADOBE CONFIDENTIAL\n *\n * Copyright 2018 Adobe Systems Incorporated\n * All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and may be covered by U.S. and Foreign Patents,\n * patents in process, and are protected by trade secret or copyright law.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n */\nimport {Constants as PMConstants} from '@adobe/cq-spa-page-model-manager';\n\n/**\n * Useful variables for interacting with CQ/AEM components\n *\n * @namespace Constants\n */\nconst Constants = {\n\n    /**\n     * Name of the data-cq-data-path data attribute\n     */\n    DATA_PATH_ATTR: 'data-cq-data-path',\n\n    /**\n     * Class names associated with a new section component\n     *\n     * @type {string}\n     */\n    NEW_SECTION_CLASS_NAMES: 'new section',\n\n    /**\n     * Type of the item\n     *\n     * @type {string}\n     */\n    TYPE_PROP: PMConstants.TYPE_PROP,\n\n    /**\n     * List of child items of an item\n     *\n     * @type {string}\n     */\n    ITEMS_PROP: PMConstants.ITEMS_PROP,\n\n    /**\n     * Order in which the items should be listed\n     *\n     * @type {string}\n     */\n    ITEMS_ORDER_PROP: PMConstants.ITEMS_ORDER_PROP,\n\n    /**\n     * Path of the item\n     *\n     * @type {string}\n     */\n    PATH_PROP: PMConstants.PATH_PROP,\n\n    /**\n     * Children of an item\n     *\n     * @type {string}\n     */\n    CHILDREN_PROP: PMConstants.CHILDREN_PROP,\n\n    /**\n     * Hierarchical type of the item\n     */\n    HIERARCHY_TYPE_PROP: PMConstants.HIERARCHY_TYPE_PROP\n};\n\nexport default Constants;\n","module.exports = require(\"@adobe/cq-spa-component-mapping\");","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport Constants from \"../Constants\";\nimport Utils from \"../Utils\";\nimport { ComponentMapping } from \"../ComponentMapping\";\n\nconst CONTAINER_CLASS_NAMES = \"aem-container\";\nconst PLACEHOLDER_CLASS_NAMES = Constants.NEW_SECTION_CLASS_NAMES;\n\n/**\n * Placeholder of the Container component\n *\n * @class\n * @extends React.Component\n * @private\n */\nexport class ContainerPlaceholder extends Component {\n\n    static get propTypes() {\n        return {\n            cqPath: PropTypes.string,\n            placeholderClassNames: PropTypes.string\n        };\n    }\n\n    render() {\n        return <div data-cq-data-path={this.props.cqPath + \"/*\"} className={this.props.placeholderClassNames} />\n    }\n}\n\n/**\n * Container component.\n *\n * Provides access to items.\n */\nexport class Container extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            componentMapping: this.props.componentMapping || ComponentMapping\n        };\n    }\n\n    /**\n     * Returns the child components of this Container.\n     * It will iterate over all the items and instantiate the child components if a Mapping is found\n     * Instantiation is done my connecting the Component with the data of that item\n     *\n     * @returns {Object[]} An array with the components instantiated to JSX\n     */\n    get childComponents() {\n        let childComponents = [];\n\n        if (!this.props.cqItems || !this.props.cqItemsOrder) {\n            return childComponents;\n        }\n\n        this.props.cqItemsOrder.map((itemKey) => {\n            let itemProps = Utils.modelToProps(this.props.cqItems[itemKey]);\n\n            if (itemProps) {\n                let ItemComponent = this.state.componentMapping.get(itemProps.cqType);\n\n                if (ItemComponent) {\n                    childComponents.push(this.connectComponentWithItem(ItemComponent, itemProps, itemKey));\n                }\n            }\n        });\n\n        return childComponents;\n    }\n\n    /**\n     * Connects a child component with the item data\n     *\n     * @param   {Component} ChildComponent the child component\n     * @param   {Object} itemProps - the item data\n     * @param   {String} itemKey - the name of the item in map\n     * @returns {Object} - the React element constructed by connecting the values of the input with the Component\n     */\n    connectComponentWithItem(ChildComponent, itemProps, itemKey) {\n        let itemPath = this.getItemPath(itemKey);\n        return <ChildComponent {...itemProps} key={itemPath} cqPath={itemPath} isInEditor={this.props.isInEditor} containerProps={this.getItemComponentProps(itemProps, itemKey, itemPath)}/>\n    }\n\n    /**\n     * Returns the properties to add on a specific child component\n     *\n     * @param   {Object} item     The item data\n     * @param   {String} itemKey  The key of the item\n     * @param   {String} itemPath The path of the item\n     * @returns {Object} The map of properties to be added\n     */\n    getItemComponentProps() {\n        return {};\n    }\n\n    /**\n     * Computes the path of the current item\n     *\n     * @param   {String} itemKey - the key of the item\n     * @returns {String} - the computed path\n     */\n    getItemPath(itemKey) {\n        return (this.props && this.props.cqPath) ? (this.props.cqPath + \"/\" + itemKey) : itemKey;\n    }\n\n    /**\n     * The properties that will be injected in the root element of the container\n     *\n     * @returns {Object} - The map of properties to be added\n     */\n    get containerProps() {\n        let attrs = {\n            \"className\": CONTAINER_CLASS_NAMES\n        };\n\n        if (this.props.isInEditor) {\n            attrs[Constants.DATA_PATH_ATTR] = this.props.cqPath;\n        }\n\n        return attrs;\n    }\n\n    /**\n     * The properties that will go on the placeholder component root element\n     *\n     * @returns {Object} - The map of properties to be added\n     */\n    get placeholderProps() {\n        return {\n            cqPath: this.props.cqPath,\n            placeholderClassNames: PLACEHOLDER_CLASS_NAMES\n        }\n    }\n\n    /**\n     * The placeholder component that will be added in editing\n     *\n     * @returns {Object} React element to be instantiated as a placeholder\n     */\n    get placeholderComponent() {\n        if (!this.props.isInEditor) {\n            return null;\n        }\n\n        return <ContainerPlaceholder { ...this.placeholderProps }/>\n    }\n\n    render() {\n        return (\n            <div {...this.containerProps}>\n                { this.childComponents }\n                { this.placeholderComponent }\n            </div>\n        )\n    }\n}\n","/*\n * ADOBE CONFIDENTIAL\n *\n * Copyright 2018 Adobe Systems Incorporated\n * All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and may be covered by U.S. and Foreign Patents,\n * patents in process, and are protected by trade secret or copyright law.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n */\nimport React, { Component } from \"react\";\nimport { ModelManager } from \"@adobe/cq-spa-page-model-manager\";\nimport Utils from \"../Utils\";\nimport isEqual from \"react-fast-compare\";\n\n/**\n * Wraps a portion of the page model into a Component.\n *\n * Fetches content from AEM (using ModelManager) and inject it into the passed React Component.\n */\nexport class ModelProvider extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = this.propsToState(props);\n    }\n\n    propsToState(props) {\n        // Keep private properties from being passed as state\n        // eslint-disable-next-line no-unused-vars\n        const { wrappedComponent, cqForceReload, ...state } = props;\n\n        return state;\n\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!isEqual(prevProps, this.props)) {\n            this.setState(this.propsToState(this.props));\n        }\n    }\n\n    updateData() {\n        ModelManager.getData({path: this.props.cqPath, forceReload: this.props.cqForceReload}).then((data) => {\n            this.setState(Utils.modelToProps(data));\n        });\n    }\n\n    componentDidMount() {\n        ModelManager.addListener(this.props.cqPath, this.updateData.bind(this));\n    }\n\n    componentWillUnmount() {\n        // Clean up listener\n        ModelManager.removeListener(this.props.cqPath, this.updateData.bind(this));\n    }\n\n    render() {\n        let WrappedComponent = this.props.wrappedComponent;\n\n        return (<WrappedComponent {...this.state}/>)\n    }\n}\n\n/**\n * Configuration object of the withModel function\n *\n * @typedef {Object} ModelConfig\n * @property {boolean} [forceReload] - Should the model be refreshed all the time\n */\n\n/**\n *\n * @param WrappedComponent\n * @param {ModelConfig} [modelConfig]\n */\nexport const withModel = function(WrappedComponent, modelConfig) {\n\n    /**\n     * @type CompositeModelProvider\n     */\n    return class CompositeModelProvider extends Component {\n        render() {\n            modelConfig = modelConfig || {};\n            // The reload can be forced either via the withModel function property or locally via the tag's property\n            const forceReload = this.props.cqForceReload || modelConfig.forceReload;\n            return (<ModelProvider { ...this.props } cqForceReload={forceReload} wrappedComponent={ WrappedComponent }/>)\n        }\n    }\n};","/*\n * ADOBE CONFIDENTIAL\n *\n * Copyright 2018 Adobe Systems Incorporated\n * All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and may be covered by U.S. and Foreign Patents,\n * patents in process, and are protected by trade secret or copyright law.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n */\n\nimport React from \"react\";\nimport Utils from \"./Utils\";\n\nexport const EditorContext = React.createContext(Utils.isInEditor());\n\nexport const withEditorContext = (Component) => {\n  return function EditorContextComponent(props) {\n    return <EditorContext.Consumer>\n       {isInEditor =>  <Component {...props} isInEditor={isInEditor} />}\n    </EditorContext.Consumer>}\n};","/*\n * ADOBE CONFIDENTIAL\n *\n * Copyright 2018 Adobe Systems Incorporated\n * All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and may be covered by U.S. and Foreign Patents,\n * patents in process, and are protected by trade secret or copyright law.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n */\nimport React, { Component } from 'react';\nimport Constants from \"../Constants\";\nimport isEqual from \"react-fast-compare\";\n\n/**\n * Class name used to identify the placeholder used to represent an empty component\n *\n * @private\n */\nconst PLACEHOLDER_CLASS_NAME = 'cq-placeholder';\n\n/**\n * The EditableComponent extends components with editing capabilities\n */\nclass EditableComponent extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = this.propsToState(props);\n    }\n\n    propsToState(props) {\n        // Keep private properties from being passed as state\n        // eslint-disable-next-line no-unused-vars\n        const { wrappedComponent, containerProps, editConfig, ...state } = props;\n\n        return state;\n\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!isEqual(prevProps, this.props)) {\n            this.setState(this.propsToState(this.props));\n        }\n    }\n\n    /**\n     * Properties related to the edition of the component\n     */\n    get editProps() {\n        let eProps = {};\n\n        if (!this.props.isInEditor) {\n            return eProps;\n        }\n\n        eProps[Constants.DATA_PATH_ATTR] = this.props.cqPath;\n\n        return eProps;\n    }\n\n    /**\n     * HTMLElement representing the empty placeholder\n     * @return {*}\n     */\n    get emptyPlaceholderProps() {\n        if (!this.useEmptyPlaceholder()) {\n            return null;\n        }\n\n        return {\n            \"data-emptytext\": this.props.editConfig.emptyLabel,\n            className: PLACEHOLDER_CLASS_NAME\n        };\n    }\n\n    /**\n     * Should an empty placeholder be added\n     *\n     * @return {boolean}\n     */\n    useEmptyPlaceholder() {\n        return this.props.isInEditor && this.props.editConfig && typeof this.props.editConfig.isEmpty === 'function' && this.props.editConfig.isEmpty(this.props);\n    }\n\n    render() {\n        let WrappedComponent = this.props.wrappedComponent;\n\n        return <div {...this.editProps} {...this.props.containerProps}>\n                <WrappedComponent {...this.state}/>\n                <div {...this.emptyPlaceholderProps}/>\n            </div>;\n    }\n}\n\n/**\n * Configuration object of the withEditable function\n *\n * @typedef {Object} EditConfig\n * @property {boolean} [emptyLabel] - Label to be displayed on the overlay when the component is empty\n * @property {function} [isEmpty] - Callback function to determine if the component is empty\n */\n\n/**\n * Returns a composition that provides edition capabilities to the component\n *\n * @param {React.Component} WrappedComponent\n * @param {EditConfig} [editConfig]\n */\nfunction withEditable(WrappedComponent, editConfig) {\n\n    /**\n     * Wrapping Editable Component\n     */\n    return class CompositeEditableComponent extends Component {\n\n        render() {\n            return <EditableComponent {...this.props} editConfig={editConfig} wrappedComponent={WrappedComponent}/>\n        }\n    }\n}\n\nexport { withEditable, PLACEHOLDER_CLASS_NAME };\n","import {Container} from \"./Container\";\nimport React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ALLOWED_PLACEHOLDER_CLASS_NAMES = 'aem-AllowedComponent--list';\nconst ALLOWED_COMPONENT_TITLE_CLASS_NAMES = 'aem-AllowedComponent--title';\nconst ALLOWED_COMPONENT_PLACEHOLDER_CLASS_NAMES = 'aem-AllowedComponent--component cq-placeholder placeholder';\n\n/**\n * Placeholder for one Allowed Component\n */\nexport class AllowedComponentPlaceholder extends Component {\n\n    static get propTypes() {\n        return {\n            emptyLabel: PropTypes.string,\n            path: PropTypes.string\n        };\n    }\n\n    render() {\n        const { path, emptyLabel } = this.props;\n\n        return <div data-cq-data-path={path} data-emptytext={emptyLabel} className={ALLOWED_COMPONENT_PLACEHOLDER_CLASS_NAMES} />;\n    }\n}\n\n/**\n * List of placeholder of the Allowed Component Container component\n *\n * @class\n * @extends React.Component\n * @private\n */\nexport class AllowedComponentPlaceholderList extends Component {\n\n    static get propTypes() {\n        return {\n            title: PropTypes.string,\n            emptyLabel: PropTypes.string,\n            components: PropTypes.arrayOf(PropTypes.shape({\n                path: PropTypes.string,\n                title: PropTypes.string\n            })),\n            placeholderClassNames: PropTypes.string,\n            cqPath: PropTypes.string\n        };\n    }\n\n    render() {\n        const { components, placeholderClassNames, title, emptyLabel } = this.props;\n        const listLabel = components && components.length > 0 ? title : emptyLabel;\n\n        return <div className={ALLOWED_PLACEHOLDER_CLASS_NAMES + ' ' + placeholderClassNames}>\n                    <div data-text={listLabel} className={ALLOWED_COMPONENT_TITLE_CLASS_NAMES}/>\n                    {components.map((component, i) =>\n                        <AllowedComponentPlaceholder key={i}\n                                                     path={component.path}\n                                                     emptyLabel={component.title}/>\n                    )}\n                </div>\n    }\n}\n\n/**\n *  When applicable, the component exposes a list of allowed components\n */\nexport class AllowedComponentsContainer extends Container {\n\n    render() {\n        const { allowedComponents, _allowedComponentPlaceholderListEmptyLabel, title, isInEditor } = this.props;\n\n        if (isInEditor && allowedComponents && allowedComponents.applicable) {\n            return <AllowedComponentPlaceholderList title={title}\n                                                    emptyLabel={_allowedComponentPlaceholderListEmptyLabel}\n                                                    components={allowedComponents.components}\n                                                    { ...this.placeholderProps }/>\n        }\n\n        return super.render();\n    }\n}\n\nAllowedComponentsContainer.defaultProps = {\n    // Temporary property until CQ-4265892 is addressed, beware not rely it\n    _allowedComponentPlaceholderListEmptyLabel: 'No allowed components'\n};","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\nvar hasElementType = typeof Element !== 'undefined';\n\nfunction equal(a, b) {\n  // fast-deep-equal index.js 2.0.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n    // end fast-deep-equal\n\n    // start react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element && b instanceof Element)\n      return a === b;\n\n    // custom handling for React\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue;\n      } else {\n        // all other properties should be traversed as usual\n        if (!equal(a[key], b[key])) return false;\n      }\n    }\n    // end react-fast-compare\n\n    // fast-deep-equal index.js 2.0.1\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function exportedEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message && error.message.match(/stack|recursion/i)) || (error.number === -2146828260)) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('Warning: react-fast-compare does not handle circular references.', error.name, error.message);\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","import { MapTo, withComponentMappingContext } from '../ComponentMapping';\nimport {AllowedComponentsContainer} from \"./AllowedComponentsContainer\";\n\nconst PLACEHOLDER_CLASS_NAMES = 'aem-Grid-newComponent';\n\nexport class ResponsiveGrid extends AllowedComponentsContainer {\n\n    /**\n     * The attributes that will be injected in the root element of the container\n     *\n     * @returns {Object} - the attributes of the container\n     */\n    get containerProps() {\n        let containerProps = super.containerProps;\n        containerProps.className = (containerProps.className || '') + ' ' +  this.props.gridClassNames;\n        return containerProps;\n    }\n\n    /**\n     * The properties that will go on the placeholder component root element\n     *\n     * @returns {Object} - the properties as a map\n     */\n    get placeholderProps() {\n        let props = super.placeholderProps;\n        props.placeholderClassNames = (props.placeholderClassNames || '') + ' ' +  PLACEHOLDER_CLASS_NAMES;\n        return props;\n    }\n\n    /**\n     * Returns the properties to add on a specific child component\n     *\n     * @param   {Object} item     The item data\n     * @param   {String} itemKey  The key of the item\n     * @param   {String} itemPath The path of the item\n     * @returns {Object} The map of properties to be added\n     */\n    getItemComponentProps(item, itemKey, itemPath) {\n        let attrs = super.getItemComponentProps(item, itemKey, itemPath);\n\n        attrs.className = attrs.className || '';\n        attrs.className += this.props.columnClassNames && this.props.columnClassNames[itemKey] ? ' ' + this.props.columnClassNames[itemKey] : '';\n\n        return attrs;\n    }\n}\n\nResponsiveGrid.defaultProps = {\n    title: 'Layout Container',\n    // Temporary property until CQ-4265892 is addressed, beware not rely it\n    _allowedComponentPlaceholderListEmptyLabel: 'No allowed components for Layout Container'\n};\n\nMapTo('wcm/foundation/components/responsivegrid')(withComponentMappingContext(ResponsiveGrid));","/*\n * ADOBE CONFIDENTIAL\n *\n * Copyright 2018 Adobe Systems Incorporated\n * All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and may be covered by U.S. and Foreign Patents,\n * patents in process, and are protected by trade secret or copyright law.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n */\nimport React from \"react\";\nimport { Container } from \"./Container\";\nimport Utils from \"../Utils\";\nimport Constants from \"../Constants\";\n\nconst NN_JCR_CONTENT = \"jcr:content\";\nconst PAGE_CLASS_NAMES = \"aem-page\";\n\n/**\n * The container for a Page.\n * In editing we need to force that this doesn't render a placeholder\n *\n * It should add data-cq-page-path instead fo data-cq-data-path\n */\nexport class Page extends Container {\n\n    /**\n     * The attributes that will be injected in the root element of the container\n     *\n     * @returns {Object} - the attributes of the container\n     */\n    get containerProps() {\n        let attrs = {\n            \"className\": PAGE_CLASS_NAMES\n        };\n\n        if (!this.props.isInEditor) {\n            return attrs;\n        }\n\n        attrs[Constants.DATA_PATH_ATTR] = this.props.cqPath;\n\n        return attrs;\n    }\n\n    /**\n     * Returns the child pages of a page\n     *\n     * @return {Array}\n     */\n    get childPages() {\n        let pages = [];\n\n        if (!this.props.cqChildren) {\n            return pages;\n        }\n\n        Object.keys(this.props.cqChildren).map((itemKey) => {\n            let itemProps = Utils.modelToProps(this.props.cqChildren[itemKey]);\n\n            let ItemComponent = this.state.componentMapping.get(itemProps.cqType);\n\n            if (ItemComponent) {\n                pages.push(<ItemComponent key={ itemProps.cqPath } {...itemProps} cqPath={ itemProps.cqPath }></ItemComponent>);\n            }\n        });\n\n        return pages;\n    }\n\n    /**\n     * Computes the path of the current item\n     *\n     * @param   {String} itemKey - the key of the item \n     * @returns {String} - the computed path\n     */\n    getItemPath(itemKey) {\n        return (this.props && this.props.cqPath) ? (this.props.cqPath + \"/\" + NN_JCR_CONTENT + \"/\" + itemKey) : itemKey;\n    }\n\n    render() {\n        return (\n            <div {...this.containerProps}>\n                { this.childComponents }\n                { this.childPages }\n            </div>\n        )\n    }\n}","/*\n *  Copyright 2018 Adobe Systems Incorporated. All rights reserved.\n *  This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License. You may obtain a copy\n *  of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software distributed under\n *  the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n *  OF ANY KIND, either express or implied. See the License for the specific language\n *  governing permissions and limitations under the License.\n *\n */\nrequire('./src/components/ResponsiveGrid');\n\n/**\n * Contains all the base components\n * @namespace components\n */\n\nexport { ComponentMapping, MapTo, ComponentMappingContext, withComponentMappingContext } from './src/ComponentMapping';\nexport { Container } from './src/components/Container';\nexport { AllowedComponentsContainer } from './src/components/AllowedComponentsContainer';\nexport { ResponsiveGrid } from './src/components/ResponsiveGrid';\nexport { withEditable } from './src/components/EditableComponent';\nexport { EditorContext, withEditorContext } from './src/EditorContext';\nexport { Page } from './src/components/Page';\nexport { ModelProvider, withModel } from './src/components/ModelProvider';\nexport { default as Constants } from \"./src/Constants\";\nexport { default as Utils } from \"./src/Utils\";\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}